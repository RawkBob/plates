<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Extensions | Plates</title><meta name=description content="Plates is a Twig inspired, native PHP template system that brings modern template language functionality to native PHP templates."><link rel=icon type=image/x-icon href=/favicon/favicon.ico><link rel=apple-touch-icon-precomposed href=/favicon/apple-touch-icon-precomposed.png><link rel=stylesheet href=https://theme.thephpleague.com/css/all.css><link rel=stylesheet href=/css/custom.css><link href=https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css rel=stylesheet></head><body><a href=https://github.com/thephpleague/plates class=github><img src=https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67 alt="Fork me on GitHub" data-canonical-src=https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png></a><section class=all_packages><a href=https://thephpleague.com/><img src=https://theme.thephpleague.com/img/loep_logo.png width=195 height=200 alt="The League of Extraordinary Packages"></a><h2>Our Packages:</h2><ul></ul></section><header><a class=logo href=/><span class=icon><img src=/images/logo.png width=50 height=40 alt="Plates - Native PHP Templates"></span>
<span class=name>Plates</span>
<span class=tagline>Native PHP Templates</span></a>
<a href=https://thephpleague.com/ class=league>Presented by The League of Extraordinary Packages</a></header><input type=checkbox id=menu>
<label for=menu><div class=closed>&#9776; Menu</div><div class=open>&#9776; Hide Menu</div></label><main><menu><h2>Getting Started</h2><ul><li><a href=/>Introduction</a></li><li><a href=/getting-started/simple-example/>Simple Example</a></li><li><a href=/getting-started/installation/>Installation</a></li></ul><h2>The Engine</h2><ul><li><a href=/engine/overview/>Overview</a></li><li><a href=/engine/file-extensions/>File Extensions</a></li><li><a href=/engine/folders/>Folders</a></li><li><a href=/engine/functions/>Functions</a></li><li class=selected><a href=/engine/extensions/>Extensions</a></li><li><a href=/engine/themes/>Themes
<sup class=menu-badge>v3.5</sup></a></li></ul><h2>Templates</h2><ul><li><a href=/templates/overview/>Overview</a></li><li><a href=/templates/data/>Data</a></li><li><a href=/templates/functions/>Functions</a></li><li><a href=/templates/nesting/>Nesting</a></li><li><a href=/templates/layouts/>Layouts</a></li><li><a href=/templates/sections/>Sections</a></li><li><a href=/templates/inheritance/>Inheritance</a></li><li><a href=/templates/escaping/>Escaping</a></li><li><a href=/templates/syntax/>Syntax</a></li></ul><h2>Extensions</h2><ul><li><a href=/extensions/asset/>Asset</a></li><li><a href=/extensions/uri/>URI</a></li><li><a href=/extensions/community/>Community</a></li></ul></menu><article><h1>Extensions</h1><p>Creating extensions couldn&rsquo;t be easier, and can really make Plates sing for your specific project. Start by creating a class that implements <code>\League\Plates\Extension\ExtensionInterface</code>. Next, register your template <a href=/engine/functions/>functions</a> within a <code>register()</code> method.</p><h2 id=simple-extensions-example>Simple extensions example</h2><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=k>use</span> <span class=nx>League\Plates\Engine</span><span class=p>;</span>
<span class=k>use</span> <span class=nx>League\Plates\Extension\ExtensionInterface</span><span class=p>;</span>

<span class=k>class</span> <span class=nc>ChangeCase</span> <span class=k>implements</span> <span class=nx>ExtensionInterface</span>
<span class=p>{</span>
    <span class=k>public</span> <span class=k>function</span> <span class=nf>register</span><span class=p>(</span><span class=nx>Engine</span> <span class=nv>$engine</span><span class=p>)</span>
    <span class=p>{</span>
        <span class=nv>$engine</span><span class=o>-&gt;</span><span class=na>registerFunction</span><span class=p>(</span><span class=s1>&#39;uppercase&#39;</span><span class=p>,</span> <span class=p>[</span><span class=nv>$this</span><span class=p>,</span> <span class=s1>&#39;uppercaseString&#39;</span><span class=p>]);</span>
        <span class=nv>$engine</span><span class=o>-&gt;</span><span class=na>registerFunction</span><span class=p>(</span><span class=s1>&#39;lowercase&#39;</span><span class=p>,</span> <span class=p>[</span><span class=nv>$this</span><span class=p>,</span> <span class=s1>&#39;lowercaseString&#39;</span><span class=p>]);</span>
    <span class=p>}</span>

    <span class=k>public</span> <span class=k>function</span> <span class=nf>uppercaseString</span><span class=p>(</span><span class=nv>$var</span><span class=p>)</span>
    <span class=p>{</span>
        <span class=k>return</span> <span class=nx>strtoupper</span><span class=p>(</span><span class=nv>$var</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=k>public</span> <span class=k>function</span> <span class=nf>lowercaseString</span><span class=p>(</span><span class=nv>$var</span><span class=p>)</span>
    <span class=p>{</span>
        <span class=k>return</span> <span class=nx>strtolower</span><span class=p>(</span><span class=nv>$var</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p>To use this extension in your template, simply call your new functions:</p><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=o>&lt;</span><span class=nx>p</span><span class=o>&gt;</span><span class=nx>Hello</span><span class=p>,</span> <span class=o>&lt;?=</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>e</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>uppercase</span><span class=p>(</span><span class=nv>$name</span><span class=p>))</span><span class=cp>?&gt;</span><span class=err>&lt;/p&gt;
</span></code></pre></div><p>They can also be used in a <a href=/templates/functions/#batch-function-calls>batch</a> compatible function:</p><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=o>&lt;</span><span class=nx>h1</span><span class=o>&gt;</span><span class=nx>Hello</span> <span class=o>&lt;?=</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>e</span><span class=p>(</span><span class=nv>$name</span><span class=p>,</span> <span class=s1>&#39;uppercase&#39;</span><span class=p>)</span><span class=o>&lt;/</span><span class=nx>h1</span><span class=o>&gt;</span>
</code></pre></div><h2 id=single-method-extensions>Single method extensions</h2><p>Alternatively, you may choose to expose the entire extension object to the template using a single function. This can make your templates more legible and also reduce the chance of conflicts with other extensions.</p><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=k>use</span> <span class=nx>League\Plates\Engine</span><span class=p>;</span>
<span class=k>use</span> <span class=nx>League\Plates\Extension\ExtensionInterface</span><span class=p>;</span>

<span class=k>class</span> <span class=nc>ChangeCase</span> <span class=k>implements</span> <span class=nx>ExtensionInterface</span>
<span class=p>{</span>
    <span class=k>public</span> <span class=k>function</span> <span class=nf>register</span><span class=p>(</span><span class=nx>Engine</span> <span class=nv>$engine</span><span class=p>)</span>
    <span class=p>{</span>
        <span class=nv>$engine</span><span class=o>-&gt;</span><span class=na>registerFunction</span><span class=p>(</span><span class=s1>&#39;case&#39;</span><span class=p>,</span> <span class=p>[</span><span class=nv>$this</span><span class=p>,</span> <span class=s1>&#39;getObject&#39;</span><span class=p>]);</span>
    <span class=p>}</span>

    <span class=k>public</span> <span class=k>function</span> <span class=nf>getObject</span><span class=p>()</span>
    <span class=p>{</span>
        <span class=k>return</span> <span class=nv>$this</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=k>public</span> <span class=k>function</span> <span class=nf>upper</span><span class=p>(</span><span class=nv>$var</span><span class=p>)</span>
    <span class=p>{</span>
        <span class=k>return</span> <span class=nx>strtoupper</span><span class=p>(</span><span class=nv>$var</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=k>public</span> <span class=k>function</span> <span class=nf>lower</span><span class=p>(</span><span class=nv>$var</span><span class=p>)</span>
    <span class=p>{</span>
        <span class=k>return</span> <span class=nx>strtolower</span><span class=p>(</span><span class=nv>$var</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p>To use this extension in your template, first call the primary function, then the secondary functions:</p><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=o>&lt;</span><span class=nx>p</span><span class=o>&gt;</span><span class=nx>Hello</span><span class=p>,</span> <span class=o>&lt;?=</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>e</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>case</span><span class=p>()</span><span class=o>-&gt;</span><span class=na>upper</span><span class=p>(</span><span class=nv>$name</span><span class=p>))</span><span class=cp>?&gt;</span><span class=err>&lt;/p&gt;
</span></code></pre></div><h2 id=loading-extensions>Loading extensions</h2><p>To enable an extension, load it into the <a href=/engine/overview/>engine</a> object using the <code>loadExtension()</code> method.</p><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=nv>$engine</span><span class=o>-&gt;</span><span class=na>loadExtension</span><span class=p>(</span><span class=k>new</span> <span class=nx>ChangeCase</span><span class=p>());</span>
</code></pre></div><h2 id=accessing-the-engine-and-template>Accessing the engine and template</h2><p>It may be desirable to access the <code>engine</code> or <code>template</code> objects from within your extension. Plates makes both of these objects available to you. The engine is automatically passed to the <code>register()</code> method, and the template is assigned as a parameter on each function call.</p><div class=highlight><pre class=chroma><code class=language-php data-lang=php><span class=k>use</span> <span class=nx>League\Plates\Engine</span><span class=p>;</span>
<span class=k>use</span> <span class=nx>League\Plates\Extension\ExtensionInterface</span><span class=p>;</span>

<span class=k>class</span> <span class=nc>MyExtension</span> <span class=k>implements</span> <span class=nx>ExtensionInterface</span>
<span class=p>{</span>
    <span class=k>protected</span> <span class=nv>$engine</span><span class=p>;</span>
    <span class=k>public</span> <span class=nv>$template</span><span class=p>;</span> <span class=c1>// must be public
</span><span class=c1></span>
    <span class=k>public</span> <span class=k>function</span> <span class=nf>register</span><span class=p>(</span><span class=nx>Engine</span> <span class=nv>$engine</span><span class=p>)</span>
    <span class=p>{</span>
        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>engine</span> <span class=o>=</span> <span class=nv>$engine</span><span class=p>;</span>

        <span class=c1>// Access template data:
</span><span class=c1></span>        <span class=nv>$data</span> <span class=o>=</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>template</span><span class=o>-&gt;</span><span class=na>data</span><span class=p>();</span>

        <span class=c1>// Register functions
</span><span class=c1></span>        <span class=c1>// ...
</span><span class=c1></span>    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div></article></main><footer><span>&copy; Copyright <a href=https://thephpleague.com>The League of Extraordinary Packages</a>.</span>
<span>Site design by <a href=https://reinink.ca>Jonathan Reinink</a>.</span></footer><script src=https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script src=https://theme.thephpleague.com/js/scripts.js></script><script src=https://theme.thephpleague.com/js/prism.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js></script><script>$('select.select2').select2().on('change',function(e){var pathParts=window.location.pathname.split("/");pathParts[1]=e.currentTarget.value;window.location.href=pathParts.join("/");});</script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create','UA-46050814-2');ga('send','pageview');</script></body></html>